{% extends 'AppBundle:Tournaments:base.html.twig' %}

{% block tournament %}

<h2>Results</h2>
<br>
<div>
    <ul class="nav nav-tabs" role="tablist">

        {% for index, event in tournament.events %}

        <li role="presentation" {{ event.id == eventId ? 'class="active"' : '' }}>
            <a href="{{ path('tournaments_results', { 'slug': tournament.slug, 'eventId': event.id }) }}">
                {{ event.name }}
            </a>
        </li>

        {% endfor %}

    </ul>
    <div class="tab-content">

        {% for index, event in tournament.events %}

        <div role="tabpanel" class="tab-pane {{ event.id == eventId ? 'active' : '' }}" id="event-{{ event.id }}">
            <br>

            {% if results[event.id] is defined and results[event.id]|length > 0 %}

            <table class="table">
                <tbody>

                {% for result in results[event.id] %}

                <tr>
                    <td>{{ result.rank }}</td>
                    <td>{{ include('entrant.html.twig', { 'entrant': result.entrant }) }}</td>
                </tr>

                {% endfor %}

                </tbody>
            </table>

            {% else %}

                No results found.

            {% endif %}

        </div>

        {% endfor %}

    </div>
</div>

{% endblock %}